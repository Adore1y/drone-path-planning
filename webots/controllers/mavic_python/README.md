# Mavic 无人机控制器

这是一个基本的 DJI Mavic Pro 无人机控制器，用于在 Webots 仿真环境中控制无人机。

## 功能

控制器实现了以下功能：

1. **起飞**: 垂直上升到指定高度
2. **悬停**: 在指定高度保持稳定
3. **前进**: 向前飞行

## 数据记录

控制器会自动记录飞行数据，包括：

- 时间戳
- 飞行状态
- 3D位置坐标
- 姿态角 (横滚、俯仰、偏航)
- 线速度和角速度
- 各电机速度

数据保存在 `flight_data` 目录中的CSV文件内。

## 数据分析

提供了 `analyze_flight_data.py` 脚本用于分析飞行数据：

```bash
python analyze_flight_data.py
```

该脚本会生成统计数据和各种图表，帮助理解无人机的飞行性能。

## 依赖

需要安装以下Python库以运行数据分析脚本：

```bash
pip install -r requirements.txt
```

## 修改控制逻辑

如需修改无人机的飞行行为，可以编辑 `mavic_python.py` 文件中的状态机部分。

主要控制参数包括：

- `target_altitude`: 目标高度
- 各电机速度设置 (起飞、悬停和前进状态) 